<div class="min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 py-12 px-4 sm:px-6 lg:px-8 border border-gray-700 rounded-2xl">
  <div class="max-w-7xl mx-auto">
    <!-- Header -->
    <div class="text-center mb-16">
      <h1 class="text-4xl font-bold text-white mb-4">Historia de Angular</h1>
      <p class="text-xl text-gray-300 max-w-3xl mx-auto">
        Descubre la evolución de Angular desde su nacimiento en 2010 hasta la actualidad, 
        un viaje de innovación y mejora continua en el desarrollo web moderno.
      </p>
    </div>

                  <!-- Timeline -->
      @defer (on viewport) {
        <div class="relative">
          <!-- Timeline line -->
          <div class="absolute left-1/2 transform -translate-x-px h-full w-0.5 bg-gradient-to-b from-[oklch(47.66%_0.246_305.88)] via-[oklch(53.18%_0.28_296.97)] to-[oklch(69.02%_0.277_332.77)] transition-all duration-1000 ease-in-out animate-fade-in"></div>

          <!-- Timeline events -->
          <div class="space-y-12">
           @for (event of timelineEvents; track event.year; let i = $index) {
            <div class="relative flex items-center transition-all duration-700 ease-in-out animate-slide-up">
           
           <!-- Left side content -->
            @if (i % 2 === 0) {
           <div class="w-5/12 pr-8">
             <div class="bg-gray-800 rounded-lg shadow-lg p-6 border-l-4 border-[oklch(47.66%_0.246_305.88)] hover:shadow-xl transition-shadow duration-300">
               <div class="flex items-center mb-3">
                 <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-[oklch(47.66%_0.246_305.88)] text-white">
                   {{ event.year }}
                 </span>
               </div>
               <h3 class="text-xl font-bold text-white mb-2">{{ event.title }}</h3>
               <p class="text-gray-300 mb-4">{{ event.description }}</p>
               <div class="space-y-1">
                @for (feature of event.features; track feature) {
                 <div 
                      class="flex items-center text-sm text-gray-400">
                   <svg class="w-4 h-4 mr-2 text-[oklch(53.18%_0.28_296.97)]" fill="currentColor" viewBox="0 0 20 20">
                     <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                   </svg>
                   {{ feature }}
                 </div>
                }
               </div>
             </div>
           </div>
           }
            <!-- Empty space for left side when content is on right -->
            @if (i % 2 !== 0) {
            <div class="w-7/12"></div>
            }

           <!-- Timeline dot -->
           <div class="absolute left-1/2 transform -translate-x-1/2 w-4 h-4 bg-gray-800 border-4 border-[oklch(47.66%_0.246_305.88)] rounded-full shadow-lg"></div>

            <!-- Right side content -->
            @if (i % 2 !== 0) {
            <div class="w-5/12 ml-10">
             <div class="bg-gray-800 rounded-lg shadow-lg p-6 border-l-4 border-[oklch(47.66%_0.246_305.88)] hover:shadow-xl transition-shadow duration-300">
               <div class="flex items-center mb-3">
                 <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-[oklch(47.66%_0.246_305.88)] text-white">
                   {{ event.year }}
                 </span>
               </div>
               <h3 class="text-xl font-bold text-white mb-2">{{ event.title }}</h3>
               <p class="text-gray-300 mb-4">{{ event.description }}</p>
               <div class="space-y-1">
                @for (feature of event.features; track feature) {
                 <div 
                      class="flex items-center text-sm text-gray-400">
                   <svg class="w-4 h-4 mr-2 text-[oklch(53.18%_0.28_296.97)]" fill="currentColor" viewBox="0 0 20 20">
                     <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                   </svg>
                   {{ feature }}
                 </div>
                }
               </div>
             </div>
           </div>
           }
           <!-- Empty space for right side when content is on left -->
            @if (i % 2 === 0) {
           <div class="w-5/12"></div>
           }
         </div>
         }
       </div>
     </div>
     } @placeholder {
       <div class="flex justify-center items-center h-64">
         <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-[oklch(47.66%_0.246_305.88)]"></div>
       </div>
     }

    <!-- Key Milestones Section -->
    @defer (on viewport) {
      <div class="mt-20 bg-gray-800 rounded-xl shadow-lg p-8 border border-gray-700 transition-all duration-1000 ease-in-out animate-fade-in-up">
      <h2 class="text-3xl font-bold text-white mb-8 text-center">Hitos Clave en la Evolución</h2>
      
      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
        <div class="text-center p-6 rounded-lg bg-gradient-to-br from-gray-700 to-gray-800 border border-gray-600 transition-all duration-700 ease-in-out animate-scale-in"
             style="animation-delay: 200ms;">
          <div class="w-16 h-16 bg-[oklch(47.66%_0.246_305.88)] rounded-full flex items-center justify-center mx-auto mb-4">
            <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
            </svg>
          </div>
          <h3 class="text-xl font-bold text-white mb-2">AngularJS (2010)</h3>
          <p class="text-gray-300">El inicio de todo. Introdujo conceptos revolucionarios como two-way data binding y directivas.</p>
        </div>

        <div class="text-center p-6 rounded-lg bg-gradient-to-br from-gray-700 to-gray-800 border border-gray-600 transition-all duration-700 ease-in-out animate-scale-in">
          <div class="w-16 h-16 bg-[oklch(53.18%_0.28_296.97)] rounded-full flex items-center justify-center mx-auto mb-4">
            <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"></path>
            </svg>
          </div>
          <h3 class="text-xl font-bold text-white mb-2">Angular 2 (2016)</h3>
          <p class="text-gray-300">Reescritura completa con TypeScript, componentes y arquitectura moderna.</p>
        </div>

        <div class="text-center p-6 rounded-lg bg-gradient-to-br from-gray-700 to-gray-800 border border-gray-600 transition-all duration-700 ease-in-out animate-scale-in">
          <div class="w-16 h-16 bg-[oklch(69.02%_0.277_332.77)] rounded-full flex items-center justify-center mx-auto mb-4">
            <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
          </div>
          <h3 class="text-xl font-bold text-white mb-2">Ivy Renderer (2019)</h3>
          <p class="text-gray-300">Nuevo motor de renderizado que mejoró significativamente el rendimiento.</p>
        </div>

        <div class="text-center p-6 rounded-lg bg-gradient-to-br from-gray-700 to-gray-800 border border-gray-600 transition-all duration-700 ease-in-out animate-scale-in">
          <div class="w-16 h-16 bg-[oklch(59.91%_0.239_8.14)] rounded-full flex items-center justify-center mx-auto mb-4">
            <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"></path>
            </svg>
          </div>
          <h3 class="text-xl font-bold text-white mb-2">Standalone Components (2022)</h3>
          <p class="text-gray-300">Simplificación del desarrollo con componentes independientes.</p>
        </div>

        <div class="text-center p-6 rounded-lg bg-gradient-to-br from-gray-700 to-gray-800 border border-gray-600 transition-all duration-700 ease-in-out animate-scale-in">
          <div class="w-16 h-16 bg-[oklch(61.42%_0.238_15.34)] rounded-full flex items-center justify-center mx-auto mb-4">
            <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
            </svg>
          </div>
          <h3 class="text-xl font-bold text-white mb-2">Signals (2023)</h3>
          <p class="text-gray-300">Nuevo sistema de reactividad que revoluciona el manejo de estado.</p>
        </div>

        <div class="text-center p-6 rounded-lg bg-gradient-to-br from-gray-700 to-gray-800 border border-gray-600 transition-all duration-700 ease-in-out animate-scale-in">
          <div class="w-16 h-16 bg-[oklch(63.32%_0.24_31.68)] rounded-full flex items-center justify-center mx-auto mb-4">
            <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
            </svg>
          </div>
          <h3 class="text-xl font-bold text-white mb-2">Control Flow (2023)</h3>
          <p class="text-gray-300">Nueva sintaxis para control de flujo más eficiente y legible.</p>
        </div>
      </div>
    </div>
    } @placeholder {
      <div class="flex justify-center items-center h-32 mt-20">
        <div class="animate-pulse text-gray-400 text-lg">Cargando hitos clave...</div>
      </div>
    }
  </div>
</div>
